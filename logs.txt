🤖 Starting Scrapius - Clean Architecture Version
2025-09-05 02:39:31,377 - INFO - Database 'insights.db' initialized with Groups and Posts tables created or verified.
2025-09-05 02:39:31,377 - INFO - ✅ Database initialized
2025-09-05 02:39:31,378 - INFO - 🤖 Scrapius Telegram Bot initialized
2025-09-05 02:39:31,379 - INFO - 🔧 Allowed chat IDs: ['-1002910329593', '632575874']
2025-09-05 02:39:31,379 - INFO - 🤖 Bot token length: 46
2025-09-05 02:39:31,379 - INFO - 🚀 Scrapius bot started - entering main loop
2025-09-05 02:39:32,623 - INFO - 📊 Hourly limit changed from 6 to 1 - regenerating schedule
2025-09-05 02:39:38,143 - INFO - 📊 Hourly limit changed from 1 to 30 - regenerating schedule
2025-09-05 02:41:49,467 - INFO - 🎯 Found 2 groups to scrape
2025-09-05 02:41:49,467 - INFO - 🆕 Creating browser for scraping
2025-09-05 02:41:51,497 - INFO - 🔍 Found Chrome at: /usr/bin/google-chrome
2025-09-05 02:41:51,498 - INFO - 🚀 Starting Chrome with remote debugging on port 9222
2025-09-05 02:41:52,559 - INFO - ✅ Chrome remote debugging ready
2025-09-05 02:41:53,013 - INFO - ====== WebDriver manager ======
2025-09-05 02:41:54,777 - INFO - Get LATEST chromedriver version for google-chrome
2025-09-05 02:41:55,031 - INFO - Get LATEST chromedriver version for google-chrome
2025-09-05 02:41:55,361 - INFO - Driver [/root/.wdm/drivers/chromedriver/linux64/140.0.7339.80/chromedriver-linux64/chromedriver] found in cache
2025-09-05 02:41:55,362 - INFO - 🔧 Set executable permissions on ChromeDriver
2025-09-05 02:41:55,376 - INFO - ✅ ChromeDriver test successful
2025-09-05 02:41:55,578 - INFO - 🥷 WebDriver traces removed successfully
2025-09-05 02:41:55,579 - INFO - ✅ Remote debugging WebDriver created successfully
2025-09-05 02:42:00,492 - INFO - ✅ Cookies loaded
2025-09-05 02:42:00,492 - INFO - ✅ Scraper ready
2025-09-05 02:42:01,702 - INFO - 🔍 [1/2] Scraping group: https://www.facebook.com/groups/spauskcia
2025-09-05 02:42:01,709 - INFO - 🚀 Quick duplicate check - navigating to group first
2025-09-05 02:42:40,657 - INFO - 📋 Found existing group 5 -> Group_12479b7059
2025-09-05 02:42:40,657 - INFO - 🔄 Incremental scraping: will stop when finding duplicate content
2025-09-05 02:42:46,076 - INFO - Starting to scrape up to 5 posts from https://www.facebook.com/groups/spauskcia using 5 workers...
2025-09-05 02:43:04,926 - INFO - Scroll 1: Found 5 potential posts. Scraped: 0/5. Active tasks: 0.
2025-09-05 02:43:27,118 - INFO - ✅ First post is new - continuing incremental scrape
2025-09-05 02:43:29,820 - INFO - Scroll 2: Found 14 potential posts. Scraped: 1/5. Active tasks: 1.
2025-09-05 02:44:16,142 - INFO - Target of 5 posts reached. Finalizing...
2025-09-05 02:44:16,142 - INFO - Scroll attempts finished or target reached. Waiting for 1 remaining tasks...
2025-09-05 02:44:16,242 - INFO - Yielding 5 posts in reverse order (newest gets highest ID)
2025-09-05 02:44:16,243 - INFO - Finished scraping generator. Total posts yielded: 5.
2025-09-05 02:44:16,243 - INFO - 📊 Found 5 new posts in group https://www.facebook.com/groups/spauskcia
2025-09-05 02:44:16,245 - INFO - 🔄 Skipping duplicate post (hash: 503e830c0418...)
2025-09-05 02:44:17,248 - INFO - 🔄 Skipping duplicate post (hash: 6ac49515a51c...)
2025-09-05 02:44:18,250 - INFO - 🔄 Skipping duplicate post (hash: ee922454bbbb...)
2025-09-05 02:44:22,552 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 02:44:22,601 - INFO - 🤖 AI processed post: True
2025-09-05 02:44:22,602 - INFO - 🔄 Updating existing post 13 with new content (hash changed: 5a3185b0deec... → a12154f55eee...)
2025-09-05 02:44:22,849 - INFO - 📱 Notification sent to group -1002910329593
2025-09-05 02:44:25,465 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 02:44:25,480 - INFO - 🤖 AI processed post: True
2025-09-05 02:44:25,487 - INFO - 🔄 Updating existing post 14 with new content (hash changed: 6070cbd4104e... → 2c2454a48ce2...)
2025-09-05 02:44:26,268 - INFO - 📱 Notification sent to group -1002910329593
2025-09-05 02:44:26,269 - INFO - ⏳ Waiting 30s before next group (reliability)
2025-09-05 02:44:56,690 - INFO - 🔍 [2/2] Scraping group: https://www.facebook.com/groups/501702489979518
2025-09-05 02:44:56,691 - INFO - 🚀 Quick duplicate check - navigating to group first
2025-09-05 02:45:51,557 - INFO - 📋 Found existing group 6 -> Group_501702489979518
2025-09-05 02:45:51,557 - INFO - 🔄 Incremental scraping: will stop when finding duplicate content
2025-09-05 02:45:54,185 - INFO - Starting to scrape up to 5 posts from https://www.facebook.com/groups/501702489979518 using 5 workers...
2025-09-05 02:46:08,490 - INFO - Scroll 1: Found 4 potential posts. Scraped: 0/5. Active tasks: 0.
2025-09-05 02:46:41,260 - INFO - 🛑 Found duplicate content (hash: f355ee63...)
2025-09-05 02:46:41,260 - INFO - 🎯 Incremental scraping complete - stopping at duplicate
2025-09-05 02:46:41,262 - INFO - Target of 5 posts reached. Finalizing...
2025-09-05 02:46:41,278 - INFO - Scroll attempts finished or target reached. Waiting for 2 remaining tasks...
2025-09-05 02:46:41,291 - INFO - Yielding 0 posts in reverse order (newest gets highest ID)
2025-09-05 02:46:41,291 - INFO - Finished scraping generator. Total posts yielded: 0.
2025-09-05 02:46:41,291 - WARNING - Generator finished, but only yielded 0 posts, less than requested 5.
2025-09-05 02:46:41,291 - INFO - 📭 No new posts found in group https://www.facebook.com/groups/501702489979518
2025-09-05 02:46:42,139 - INFO - 🧹 Scraper manager cleaned up
2025-09-05 02:46:43,539 - INFO - 📊 Hourly limit changed from 30 to 1 - regenerating schedule

